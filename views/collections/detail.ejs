<h1><%= collection.name %></h1>

<div class="mb-3">
  <% if (collection.isPublic) { %>
  <span class="badge bg-success">Public</span>
  <% } else { %>
  <span class="badge bg-secondary">Private</span>
  <% } %>
</div>

<p><%= collection.description || 'No description provided.' %></p>

<hr />

<h3>Bookmarks in this collection</h3>

<% if (!collection.bookmarks || collection.bookmarks.length === 0) { %>
<div class="alert alert-info">No bookmarks in this collection yet.</div>
<% } else { %>
<div class="list-group">
  <% collection.bookmarks.forEach(bookmark => { %>
  <a
    href="<%= bookmark.url %>"
    target="_blank"
    rel="noopener"
    class="list-group-item list-group-item-action d-flex align-items-center"
  >
    <% if (bookmark.faviconUrl) { %>
    <img
      src="<%= bookmark.faviconUrl %>"
      alt="favicon"
      style="width: 20px; height: 20px; margin-right: 10px"
    />
    <% } else { %>
    <span class="me-2"><i class="bi bi-bookmark"></i></span>
    <% } %>
    <div>
      <strong><%= bookmark.title || bookmark.url %></strong><br />
      <small class="text-muted"><%= bookmark.description || '' %></small>
    </div>
  </a>
  <% }) %>
</div>
<% } %>

<hr />

<div class="mt-3">
  <a href="/collections" class="btn btn-secondary">Back to Collections</a>
  <a href="/collections/<%= collection._id %>/edit" class="btn btn-primary"
    >Edit Collection</a
  >
  <a
    href="/collections/<%= collection._id %>/delete"
    class="btn btn-danger"
    onclick="return confirm('Are you sure you want to delete this collection?');"
    >Delete Collection</a
  >
</div>
